<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="sakura.css" type="text/css" />
  <link rel="stylesheet" href="ex04.css" type="text/css" />
  <title>Ex04</title>
</head>

<body>
  <h1>Exercice 04 - Carte BINGO</h1>
  <p>Nous allons créer notre premier petit jeu en JavaScript !</p>
  <blockquote>
    > Ci-dessous vous trouverez un tableau vide. Votre but dans un premier
    temps sera de créer une carte BINGO aléatoire à l'intérieur. En pratique,
    vous devrez remplir chacunes des cases avec un chiffre aléatoire entre 1
    et 90. (Règles du jeu ici au cas où :
    <a href="https://www.regles-de-jeux.com/regle-du-bingo/"
      target="_blank">https://www.regles-de-jeux.com/regle-du-bingo/</a>)
  </blockquote>
  <blockquote>
    > Rajoutez un bouton pour jouer un chiffre aléatoire entre 1 et 90. Si le
    chiffre généré est dans la grille bingo, changez la case pour l'indiquer
    "active" comme la cellulle "Free". Pensez aussi à créer un bouton "Reset"
  </blockquote>
  <blockquote>
    > Créez une condition de victoire. Le jeu est gagné si une ligne ligne,
    colonne, ou diagonale, est entièrement remplie
  </blockquote>
  <hr />

  <div id="container">
    <div id="header">
    </div>
    <div id="content">
      <table id="bingotable">
        <tr>
          <th class="orange">B</th>
          <th class="orange">I</th>
          <th class="orange">N</th>
          <th class="orange">G</th>
          <th class="orange">O</th>
        </tr>
        <tr>
          <td id="square0"> &nbsp;</td>
          <td id="square1"> &nbsp;</td>
          <td id="square2"> &nbsp;</td>
          <td id="square3"> &nbsp;</td>
          <td id="square4"> &nbsp;</td>
        </tr>
        <tr>
          <td id="square5"> &nbsp;</td>
          <td id="square6"> &nbsp;</td>
          <td id="square7"> &nbsp;</td>
          <td id="square8"> &nbsp;</td>
          <td id="square9"> &nbsp;</td>
        </tr>
        <tr>
          <td id="square10"> &nbsp;</td>
          <td id="square11"> &nbsp;</td>
          <td id="cell-free squarefree" class="cell active"> FREE</td>
          <td id="square12"> &nbsp;</td>
          <td id="square13"> &nbsp;</td>
        </tr>
        <tr>
          <td id="square14"> &nbsp;</td>
          <td id="square15"> &nbsp;</td>
          <td id="square16"> &nbsp;</td>
          <td id="square17"> &nbsp;</td>
          <td id="square18"> &nbsp;</td>
        </tr>
        <tr>
          <td id="square19"> &nbsp;</td>
          <td id="square20"> &nbsp;</td>
          <td id="square21"> &nbsp;</td>
          <td id="square22"> &nbsp;</td>
          <td id="square23"> &nbsp;</td>
        </tr>
      </table>
    </div>

    <p><button onclick="anotherCard()">Generate Bingo Card</button></p>

    <script>
      "use strict"

      var usedNums = new Array(76);

      function newCard() {
        //Starting loop through each square card
        for (var i = 0; i < 24; i++) {  //<--always this code for loops. change in red
          setSquare(i);
        }
      }

      function setSquare(thisSquare) {
        var currSquare = "square" + thisSquare;
        var newNum;

        var colPlace = new Array(0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4);

        do {
          newNum = (colPlace[thisSquare] * 15) + getNewNum() + 1;
        }
        while (usedNums[newNum]);

        usedNums[newNum] = true;
        document.getElementById(currSquare).innerHTML = newNum;
      }

      function getNewNum() {
        return Math.floor(Math.random() * 75);

      }

      function anotherCard() {
        for (var i = 1; i < usedNums.length; i++) {
          usedNums[i] = false;
        }

        newCard();
      }
    </script>

</body>

</html>